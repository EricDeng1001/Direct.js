import React from 'react';
import style from 'style';
import * as actionCreators from 'actions';
import { bindActionCreators } from 'redux';
import { connect } from 'react-redux';
import Button from 'UI/Button';


class Location extends React.Component {
  constructor( props ){
    super( props );
  }

  render(){
      const { data : { loading , loaded , show , lat , lng } , toggleLocation , getLocation } = this.props;
      return (
        <div className="container">
        {
          loaded ? (
            show ? (
            <div>
              <p className={style.text}>经度:{lng}</p>
              <p className={style.text}>纬度:{lat}</p>
              <Button
                onClick={toggleLocation}
                text="隐藏"
              />
            </div>
          ) : (
            <Button
              onClick={toggleLocation}
              text="显示"
            />)
          ) : (
            <Button
              onClick={getLocation}
              text="获取经纬度"
            />
          )
        }
        </div>
      );
  }
};

export default connect(
  state => ({
    data: state.Sample
  }),
  dispatch => bindActionCreators( actionCreators , dispatch )
)( Location );
